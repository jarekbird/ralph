services:
  ralph:
    build:
      context: .
    # Mount the target project (where your PRD lives) into /workspace.
    # Set WORKSPACE_DIR to an absolute path when running docker compose.
    volumes:
      - ${WORKSPACE_DIR:-..}:/workspace
    environment:
      # CURSOR_API_KEY will be read from workspace .env file if present
      - CURSOR_API_KEY
      # Default to agent binary installed in image
      - RALPH_CURSOR_BIN=agent
    working_dir: /workspace
